const _={DATA:{},fbtnsave:()=>"",GV:{},GX:{},GT:[],X:{version:()=>"info X 0.5 analytics",RE:RegExp,CL:console.log,CI:console.info,OK:Object.keys,OA:Object.assign,OE:Object.entries,OV:Object.values,OF:Object.fromEntries,DN:Date.now,JP:JSON.parse,JS:JSON.stringify,CE:Document.createElement,CT:Document.createTextNode,AC:Document.appendChild,RC:Document.removeChild,EL:Document.addEventListener,RL:Document.removeEventListener,MM:e=>e.reduce(((e,t)=>(t>e.max&&(e.max=t),t<e.min&&(e.min=t),e)),{min:Number.MAX_VALUE,max:-Number.MAX_VALUE}),MO:e=>e.reduce(((e,t)=>(e[t]={},e)),{}),MF:Math.floor,MP:Math.pow,ML:Math.log10,KV:e=>({k:e[0],v:e[1]}),fc:(e,t)=>e.filter(_.X.FX[t.f](t.k)(t.v)),as:e=>t=>e.reduce(((e,n)=>(e[n]=t[n],e)),{}),FX:{eF:e=>t=>n=>n[e].toString()===t.toString(),rF:e=>t=>n=>new _.X.RE(t,"i").test(n[e]),icF:e=>t=>n=>n[e].includes(t),swF:e=>t=>n=>n[e].startsWith(t),ewF:e=>t=>n=>n[e].endsWith(t),oF:e=>t=>n=>t.reduce(((t,c)=>t||c===n[e]),!1),NrF:e=>t=>n=>!new _.X.RE(t,"i").test(n[e]),tF:e=>()=>t=>t[e],NtF:e=>()=>t=>!t[e],gF:e=>t=>n=>n[e]>=t,lF:e=>t=>n=>n[e]<=t,bF:e=>t=>n=>n[e]>=t.k&&n[e]<=t.g,NbF:e=>t=>n=>n[e]<=t.k&&n[e]>=t.g,iF:e=>t=>n=>new _.X.RE(t.join("|")).test(n[e])},buzZ:(e,t=7)=>_.X.OE(e.reduce(((e,n)=>(n.split(/\W/).filter((e=>e.length>t)).map((e=>e.toLowerCase())).reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),e),e)),{})).map(_.X.KV).sort(((e,t)=>t.v-e.v)).slice(0,50),KZ:e=>t=>({k:t[0],v:_.X.buzZ(t[1],e)}),rs:e=>"string"==typeof e?parseFloat(e.replace(/,/,".")):"number"==typeof e?e:0,bxpl:e=>{const t=e.map((e=>_.X.rs(e))).sort(((e,t)=>e-t)),n=t.length,c=t.reduce(((e,t)=>e+(t||0)),0),r=c/n,d=t.reduce(((e,t)=>e+(t-r)*(t-r)),0)/n;return{min:t[0],q1:t[parseInt(.25*n)],q5:t[parseInt(.5*n)],mean:r,q7:t[parseInt(.75*n)],max:t[n-1],s:c,l:n,v:d,d:Math.sqrt(d)}},KB:e=>({k:e[0],v:_.X.bxpl(e[1])}),U:(e,t)=>e.reduce(((e,n)=>e+"_"+t[n]),""),alb:(e,t,n=1,c=1)=>(t,c)=>(t[_.X.U(e,c)]=t[_.X.U(e,c)]||[],t[_.X.U(e,c)].push(c[n]||0),t),alx:(e,t,n=1,c=1)=>(t,r)=>(t[_.X.U(e,r)]=(t[_.X.U(e,r)]||0)+(r[n]??1)*(r[c]??1),t),aly:(e,t=1,n=1)=>(c,r)=>(_.X.OK(e).forEach((e=>{c[e][r[e]]=(c[e][r[e]]||0)+(r[t]??1)*(r[n]??1)})),c),mfs:e=>t=>n=>e.reduce(((e,c)=>e||new _.X.RE(t.replace(/([*()\]])/g,"$1"),"i").test(n[c].replace(/[()<>;]/g,"").replace(/([./-])/g,"$1"))),!1),mfms:e=>(t,n)=>t.filter(_.X.mfs(e)(n)),describe:(e,t)=>e.reduce(_.X.aly(_.X.MO(t.s)),_.X.MO(t.s)),fdescr:(e,t)=>t.f.reduce(_.X.fc,e).reduce(_.X.aly(_.X.MO(t.s)),_.X.MO(t.s)),combine:(e,t)=>t.f.reduce(_.X.fc,e).map(_.X.as(t.s)),grpsum:(e,t)=>_.X.OE(t.f.reduce(_.X.fc,e).reduce(_.X.alx(t.s,{},t.c),{})).map(_.X.KV),search:(e,t)=>t.v.split(" ").reduce(_.X.mfms(t.c),t.f.reduce(_.X.fc,e).map(_.X.as(t.s))),cwrdCld:(e,t)=>_.X.OE(t.f.reduce(_.X.fc,e).reduce(_.X.alb(t.s,{},t.c),{})).map(_.X.KZ(t.l)),bxPlt:(e,t)=>t.s.reduce(((t,n)=>(t[n]=_.X.bxpl(e.map((e=>e[n]))),t)),{}),cbxPlt:(e,t)=>_.X.OE(t.f.reduce(_.X.fc,e).reduce(_.X.alb(t.s,{},t.c),{})).map(_.X.KB)},R:{version:()=>"info R 0.2 rdf builder interpreter 2024-07-21",C:e=>t=>{const n=e.split(" ");if(3===n.length&&"contains"===n[1]){const e=n[0],c=n[2];(t=t||{})[c]=t[c]||{},_.X.OA(t[c],JSON.parse(`{"from":"${e}"}`))}return t},A:e=>t=>{const n=e.split(" ");if(4===n.length&&"hat"===n[1]){const e=n[0],c=n[2],r=n[3];(t=t||{})[e]=t[e]||{},_.X.OA(t[e],_.X.JP(`{"${c}":"${r}"}`))}return t},B:(e,t=["C","A"])=>{const n=e.reduce(((e,n)=>(t.forEach((t=>e=_.R[t](n)(e))),e)),{});return _.X.OE(n).reduce(((e,t)=>(e[t[1].from]&&(e[t[1].from]["@HC"]=(e[t[1].from]["@HC"]||[]).concat(t[0])),e)),n)},RKV:e=>_.X.OE(_.X.describe(_.X.OV(e),{s:[...new Set(_.X.OV(e).reduce(((e,t)=>e=_.X.OK(t).concat(e)),[]))]})).reduce(((e,t)=>(delete t[1].undefined,e[t[0]]=t[1],e)),{}),FX:{eI:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(t[0]===n&&(e[t[0]]=t[1]),e)),{}),iI:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(t[0].include(n)&&(e[t[0]]=t[1]),e)),{}),oI:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(n.reduce(((e,n)=>e||t[0]===n),!1)&&(e[t[0]]=t[1]),e)),{}),rI:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(new _.X.RE(n,"i").test(t[0])&&(e[t[0]]=t[1]),e)),{}),KeV:(e,t,n)=>_.X.OE(e).reduce(((e,c)=>(_.X.OE(c[1]).filter((e=>e[0]===t&&e[1]===n))?.length&&(e[c[0]]=c[1]),e)),{}),KgV:(e,t,n)=>_.X.OE(e).reduce(((e,c)=>(_.X.OE(c[1]).filter((e=>e[0]===t&&e[1]>=n))?.length&&(e[c[0]]=c[1]),e)),{}),KlV:(e,t,n)=>_.X.OE(e).reduce(((e,c)=>(_.X.OE(c[1]).filter((e=>e[0]===t&&e[1]<=n))?.length&&(e[c[0]]=c[1]),e)),{}),KbV:(e,t,n)=>_.X.OE(e).reduce(((e,c)=>(_.X.OE(c[1]).filter((e=>e[0]===t&&e[1]>=n[0]&&e[1]<=n[1]))?.length&&(e[c[0]]=c[1]),e)),{}),KrV:(e,t,n)=>_.X.OE(e).reduce(((e,c)=>(_.X.OE(c[1]).filter((e=>e[0]===t&&new _.X.RE(n,"i").test(e[1])))?.length&&(e[c[0]]=c[1]),e)),{}),KoV:(e,t,n)=>_.X.OE(e).reduce(((e,c)=>(_.X.OE(c[1]).filter((e=>e[0]===t&&n.reduce(((t,n)=>t||e[1]===n),!1)))?.length&&(e[c[0]]=c[1]),e)),{}),eV:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(_.X.OE(t[1]).filter((e=>e[1]===n))?.length&&(e[t[0]]=t[1]),e)),{}),iV:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(_.X.OE(t[1]).filter((e=>e[1].includes(n)))?.length&&(e[t[0]]=t[1]),e)),{}),rV:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(_.X.OE(t[1]).filter((e=>new _.X.RE(n,"i").test(e[1])))?.length&&(e[t[0]]=t[1]),e)),{}),eK:(e,t,n)=>_.X.OE(e).reduce(((e,n)=>(_.X.OE(n[1]).filter((e=>e[0]===t))?.length&&(e[n[0]]=n[1]),e)),{}),rK:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(_.X.OE(t[1]).filter((e=>new _.X.RE(n,"i").test(e[0])))?.length&&(e[t[0]]=t[1]),e)),{}),iK:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(_.X.OE(t[1]).filter((e=>e[0].includes(n)))?.length&&(e[t[0]]=t[1]),e)),{}),oK:(e,t,n)=>_.X.OE(e).reduce(((e,t)=>(_.X.OE(t[1]).filter((e=>n.reduce(((t,n)=>t||e[0]===n),!1)))?.length&&(e[t[0]]=t[1]),e)),{})},mf:(e,t)=>t.reduce(((e,t)=>_.R.FX[t.f](e,t.k,t.v)),e),J2R:(e,t)=>e.reduce(((e,n)=>(e[n[t.id]]=n,e)),{}),b4RKV:(e,t,n,c="info",r="textContent",d="FKV")=>{const l=document.createElement("span");return l.setAttribute("class","oneofn"),l.addEventListener("click",(()=>{document.querySelector(`#${c}`)[r]=_.X.JS(_.R.FX[d](e,t,n))})),l.appendChild(document.createTextNode(`${t}-${n}-Filter`)),l}},H:{version:()=>"info H 0.3 hierachy utility 2024-07-21",P:(e,t,n="from",c)=>{e[t]&&e[t][n]?_.H.P(e,e[t][n],n,(c||t)+"/"+e[t][n]):_.X.CL(c)},LO:e=>_.X.OE(e).filter((e=>e[1].from)).reduce(((e,t)=>(e[t[0]]=t[1].from,e)),{}),LP:(e,t)=>{let n=t,c=e[t];for(;c;)n+="/"+c,c=e[c];return n},JH:e=>_.X.OE(_.H.LO(e)).reduce(((t,n)=>(t.push({e:n[0],r:_.H.LP(_.H.LO(e),n[0]).split("/").reverse().join("|")}),t)),[]),HF:(e,t,n)=>e.filter((e=>e.r.includes(t))).filter((e=>e.r.split("|").length===n)),MH:e=>e.filter((e=>2===e.r.split("|").length)).reduce(((e,t)=>(e[t.r.split("|")[0]]=(e[t.r.split("|")[0]]||[]).concat(t.r.split("|")[1]),e)),{}),DE:(e,t)=>{e.removeChild(t)},AE:(e,t,n="id1",c,r=0)=>{const d=document.createElement("div"),l=document.createElement("span"),a=document.createTextNode(new Array(r).fill("…").join("")+" "+t);if(d.setAttribute("id",n),l.appendChild(a),l.addEventListener("click",(e=>{(c?.[t]?.["@HC"]||[]).forEach(((e,t)=>_.H.AE(document.querySelector("#"+n),e,n+t,c,r+1)))})),l.addEventListener("mouseover",(e=>{document.querySelector("#rdfinfo").value=_.X.JS(_.DATA.rdf[e.target.firstChild.data.split(" ")[1]])})),d.appendChild(l),(c?.[t]?.["@HC"]||[]).length){l.setAttribute("data-counter",(c?.[t]?.["@HC"]||[]).length);const e=_.Y.setIcon("vw-reload","icon","nur löschen, wenn aufgeklappt");e.addEventListener("click",(e=>{Array.from(e.target.parentNode.children).filter((e=>"DIV"===e.nodeName)).map((e=>e.id)).forEach((t=>_.H.DE(document.querySelector("#"+e.target.parentNode.id),document.querySelector("#"+t))))})),d.appendChild(e)}e.appendChild(d)}},U:{version:()=>"info U 0.2 utility",n2ne:(e,t=1)=>Number(e/_.X.MP(10,_.X.MF(_.X.ML(e)))).toFixed(t)+"e"+_.X.MF(_.X.ML(e)),kv2j:(e,t)=>e.reduce(((e,n,c)=>(e[n]=t[c],e)),{}),j2fro:(e,t)=>{const n=sd[t].reduce(((e,t)=>(e[t.col]=t.head,e)),{});return X.OE(e).reduce(((e,t)=>e+"<div class=form-group><label>"+n[t[0]]+'</label><input readonly class=input-control name="'+t[0]+'" value="'+t[1]+'" type=text ></input></div>'),"")},j2Dj:e=>_.X.OE(e).reduce(((e,t)=>(e[t[0]]={S:t[1]},e)),{}),Dj2j:e=>_.X.OE(e).reduce(((e,t)=>(e[t[0]]=t[1].S,e)),{}),m2x:async(e,t,n="../api/multiform")=>await fetch(n,{method:e,body:JSON.stringify(t)}),on:(e,t=!1,n="oneofn")=>{document.querySelectorAll(`span[class~="${e}"]`).forEach((t=>t.setAttribute("class",e+` ${n}`))),t&&document.querySelector(`span[data="${e}-${t}"]`).setAttribute("class",e+` ${n} ${n}active`)},tt:e=>{"block"===document.querySelector("#md"+e).style.display?document.querySelector("#md"+e).style.display="none":document.querySelector("#md"+e).style.display="block"}},I:{version:()=>"info X 0.1 Icons",getIcon:(e,t)=>`<symbol id='${e}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path class='cls-1' d='${t[e]}'/></symbol>`,gI:(e,t)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","symbol"),c=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"viewBox","0 0 24 24"),n.setAttributeNS(null,"id",e),c.setAttributeNS(null,"class","cls-1"),c.setAttributeNS(null,"d",t[e]),n.appendChild(c),n},aI:(e,t)=>_.X.OK(e).reduce(((t,n)=>(t.appendChild(_.I.gI(n,e)),t)),t),allIcons:e=>_.X.OK(e).reduce(((t,n)=>t+_.I.getIcon(n,e)),"")},M:{version:()=>"info M 0.2 modal (ohne innerHTML) 2023-07-26 überarbeitet",fB:(e,t,n="formular")=>{e.reduce(((e,t)=>{const c=document.createElement("div"),r=document.createElement("header"),d=document.createElement("div");return c.addEventListener("click",(()=>{_.M.sM(_.DATA[n][t].title,_.DATA[n][t].subtitle,_.DATA[n][t].form)})),c.setAttribute("class","flex-box"),d.setAttribute("class","info"),r.appendChild(document.createTextNode(_.DATA[n][t].title||"Header")),d.appendChild(document.createTextNode(_.DATA[n][t].subtitle||"substart")),c.appendChild(r),c.appendChild(d),e.appendChild(c),e}),t)},gE:e=>{const t=document.createElement("div"),n=document.createElement("label"),c=document.createElement("input");return t.setAttribute("class","form-group"),n.appendChild(document.createTextNode(e?.l||e[0])),e?.v||c.setAttribute("readonly","readonly"),c.setAttribute("type",e?.t||"text"),e?.d||c.setAttribute("list",e?.d||"media"),c.setAttribute("class","input-control"),c.setAttribute("value",e?.v||e[1]),c.setAttribute("name",e?.l||e[0]),t.appendChild(n),t.appendChild(c),t},gfd:(e,t)=>(e.reduce(((e,t)=>{const n=document.createElement("div"),c=document.createElement("label"),r=document.createElement("input"),d=document.createElement("a");return n.setAttribute("class","form-group"),c.appendChild(document.createTextNode(_.X.OK(t).join("|"))),r.setAttribute("readonly","readonly"),r.setAttribute("type","text"),r.setAttribute("class","input-control"),r.setAttribute("value",_.X.OV(t).join("|")),d.setAttribute("href",_.X.OV(t)[3]),d.appendChild(_.Y.setIcon("vw-link","icon","Dokument mit Rechtsklick in neuem Tab öffnen")),n.appendChild(c),n.appendChild(r),n.appendChild(d),e.appendChild(n),e}),t),t),gf1:(e,t)=>_.M.gf(e,t,!1),gf:(e,t,n=!0)=>(e.reduce(((e,t)=>{const c=document.createElement("div"),r=document.createElement("label"),d=document.createElement("input");return c.setAttribute("class","form-group"),r.appendChild(document.createTextNode(t?.l||t[0])),n&&d.setAttribute("readonly","readonly"),"media"===t.l&&d.setAttribute("list","media"),"style"===t.l&&d.setAttribute("list","style"),d.setAttribute("type",t?.t||"text"),d.setAttribute("class","input-control"),d.setAttribute("value",t?.v||t[1]),d.setAttribute("name",t?.l||t[0]),c.appendChild(r),c.appendChild(d),e.appendChild(c),e}),t),t),gh:(e,t)=>{const n=document.createElement("header"),c=document.createElement("span"),r=document.createElement("span"),d=document.createTextNode(e||"MODAL-Form "),l=document.createTextNode(t||"intern");return r.setAttribute("class","close"),r.addEventListener("click",(()=>{document.querySelectorAll(".modal")[0].style.display="none",document.querySelectorAll("#formsave")[0].disabled=!1})),r.appendChild(document.createTextNode("X")),c.appendChild(l),n.appendChild(d),n.appendChild(c),n.appendChild(r),n},d2m:(e,t,n=0)=>{const c=document.querySelectorAll(".modal-form")[0],r=document.createElement("div"),d=document.createElement("form");c.removeChild(c.children[0]),r.setAttribute("class","modal-steffen"),r.appendChild(_.M.gh("d2m Modal",`${e.length} Einträge für id ${t} [${n} ms]`)),r.appendChild(_.M.gfd(e,d,!0)),c.appendChild(r),document.querySelectorAll("#formsave")[0].disabled=!0,document.querySelectorAll(".modal")[0].style.display="block"},i2m:e=>{const t=_.U.kv2j(e.k.split("|"),e.o.split("|")),n=document.querySelectorAll(".modal-form")[0],c=document.createElement("div"),r=document.createElement("form");n.removeChild(n.children[0]),c.setAttribute("class","modal-steffen"),c.appendChild(_.M.gh("i2m Modal","aktuelle Zeile")),c.appendChild(_.M.gf(_.X.OE(t),r,!0)),n.appendChild(c),document.querySelectorAll("#formsave")[0].disabled=!0,document.querySelectorAll(".modal")[0].style.display="block"},i2c:e=>{const t=_.U.kv2j(e.k.split("|"),e.o.split("|")),n=document.querySelectorAll(".modal-form")[0],c=document.createElement("div"),r=document.createElement("form");n.removeChild(n.children[0]),c.setAttribute("class","modal-steffen"),r.setAttribute("id","form"),c.appendChild(_.M.gh("i2c Modal","Form to Table")),c.appendChild(_.M.gf(_.X.OE(t),r,!1)),n.appendChild(c),document.querySelectorAll("#formsave")[0].disabled=!1,document.querySelectorAll("#formsave")[0].removeEventListener("click",_.fbtnsave),_.fbtnsave=async e=>{try{const e=new FormData(document.querySelectorAll("#form")[0]),t=Object.fromEntries([...e.entries()]);t._time=Date.now().toString(),t.SID||(t.SID=Date.now().toString(35));const n=performance.now(),c=await _.C.m2eda(_.U.j2Dj(t));document.querySelector("#info").textContent=`for ID :${c.Entries[0].EventId} in ${parseInt(performance.now()-n)} ms `}catch(e){console.error("ERROR MODAL",e)}document.querySelectorAll(".modal")[0].style.display="none"},document.querySelectorAll("#formsave")[0].addEventListener("click",_.fbtnsave),document.querySelectorAll(".modal")[0].style.display="block"},bt:(e,t=!0)=>async n=>{document.querySelectorAll("#formsave")[0].disabled=!0;const c=new FormData(document.querySelectorAll("#form")[0]),r=_.X.OF([...c.entries()]);r._type=e,r._time=Date.now().toString(),r._id=Date.now().toString(35),await _.U.m2x("POST",{TableName:"dtpm-xsammler",Item:t?r:_.U.j2Dj(r)},t?"../api/multiform":"../multiform"),document.querySelectorAll(".modal")[0].style.display="none",document.querySelectorAll("#formsave")[0].disabled=!1},bt1:(e,t,n,c,r)=>async t=>{document.querySelectorAll("#formsave")[0].disabled=!0,_.X.CL("ALTERNATIVE BT function ",e,n,c,r);const d=new FormData(document.querySelectorAll("#form")[0]),l=_.X.OF([...d.entries()]);_.X.CL("Nach OK FORM ",l),_.DATA["cfg_"+n].views[c][r].style=l.style,_.DATA["cfg_"+n].views[c][r].head=l.head,_.DATA["cfg_"+n].views[c][r].media=l.media,_.DATA["cfg_"+n].views[c][r].col=l.col,_.T.rf(n),document.querySelectorAll(".modal")[0].style.display="none",document.querySelectorAll("#formsave")[0].disabled=!1},cC:(e,t,n,c,r)=>_.M.sM(e,t,["col","head","style","media"].reduce(((e,t)=>{const d=_.DATA["cfg_"+n].views[c][r];return e.push({l:t,n:t,v:d?.[t]||" "}),e}),[]),"gf1","bt1",n,c,r),sM:async(e,t,n,c="gf",r="bt",d="sapshift",l="show",a="pl")=>{_.X.CL("SM SetModal ",e,t,n,c,r);const s=document.createElement("form"),o=document.createElement("div"),i=document.querySelectorAll(".modal-form")[0];i.removeChild(i.children[0]),s.setAttribute("id","form"),o.appendChild(_.M.gh(e,t)),o.appendChild(_.M[c](n,s)),i.appendChild(o),document.querySelectorAll("#formsave")[0].removeEventListener("click",_.fbtnsave),_.fbtnsave=await _.M[r](e,!0,d,l,a),document.querySelectorAll("#formsave")[0].addEventListener("click",_.fbtnsave),document.querySelectorAll(".modal")[0].style.display="block"}},Y:{version:()=>"version 0.1 Y Barcode and so on..",bitFlow:e=>{const t=document.createElement("div");return new Array(8-Number(e).toString(2).split("").length).fill("0").concat(Number(e).toString(2).split("")).reduce(((e,t)=>{const n=document.createElement("span");return n.setAttribute("class",`b${t}`),e.appendChild(n),e}),t),t},workFlow:e=>{const t=document.createElement("div"),n=e%7;return[1,2,3,4,5,6].reduce(((e,t)=>{const c=document.createElement("span");return c.setAttribute("class",n===t?"b2":"bl"),e.appendChild(c),e}),t),t},meter:e=>{const t=document.createElement("meter");return t.setAttribute("value",parseInt(e)),t.setAttribute("max",15),t},barmeterspan:(e,t=12)=>{const n=document.createElement("span");return n.setAttribute("class","barmeter"),n.setAttribute("style",`width:${e/t*5}rem`),n},longFlow:e=>{const t=document.createElement("div"),n=e%7;return[1,2,3,4,5,6].reduce(((e,t)=>{const c=document.createElement("span");return c.setAttribute("class",t<=n?"b2":"bl"),e.appendChild(c),e}),t),t},heightFlow:e=>{const t=document.createElement("div");return e.toString().split("").reduce(((e,t)=>{const n=document.createElement("span");return n.setAttribute("class",`h${t}`),e.appendChild(n),e}),t),t},heightFlow2:e=>{const t=document.createElement("span");return t.setAttribute("class","sparkline"),e.split(",").reduce(((e,t)=>{const n=document.createElement("span");return n.setAttribute("class","sparkbox"),n.setAttribute("style",`padding-bottom:${t}rem`),n.setAttribute("title",`${t} Wert`),e.appendChild(n),e}),t),t},heightFlow3:e=>{const t=document.createElement("span");return t.setAttribute("class","sparkline"),e.split(",").reduce(((e,t,n)=>{const c=document.createElement("span"),r=document.createElement("span"),d=document.createElement("span");return d.setAttribute("class","pbox"),c.setAttribute("class","prd"),c.setAttribute("style",`padding-top:${1.1-t}rem`),c.setAttribute("title",`P${n} \n${1.1-t} P-Wert`),r.setAttribute("class","pprd"),r.setAttribute("style",`padding-top:${1-t}rem`),r.setAttribute("title",`VP${n} \n${1-t} VP-Wert`),d.appendChild(c),d.appendChild(r),e.appendChild(d),e}),t),t},setIcon:(e="vw-search",t="s-icon",n="no title")=>{const c="http://www.w3.org/2000/svg",r=document.createElementNS(c,"svg"),d=document.createElementNS(c,"title"),l=document.createElementNS(c,"use");return r.setAttributeNS(null,"class",t),l.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${e}`),d.appendChild(document.createTextNode(n)),r.appendChild(l),r.appendChild(d),r},i2m:(e,t,n,c,r="vw-user-comment",d,l)=>{const a=_.Y.setIcon(r,"s-icon",`Datensatz ${n} im Modal Fenster anzeigen`);return a.addEventListener("click",(()=>{_.M.i2m({k:d,o:l})})),a},r2d:(e,t,n,c,r="vw-visualcheck",d,l)=>{const a=_.Y.setIcon(r,"s-icon","Detail Datensatz anlegen");return a.addEventListener("click",(()=>{_.M.i2c({k:"PID|SID|D|WAS|WER|Link",o:`${l.split("|")[2]}||2024-MM-JJ|was|wer|doc_link_url`})})),a},i2d:(e,t,n,c,r="vw-visualcheck",d,l)=>{const a=_.Y.setIcon("vw-chat","s-icon","Info Detail Datensatz anlegen");return a.addEventListener("click",(async()=>{const t=performance.now(),n=await _.C.scanDB(_.C.TABLEC,{KeyConditionExpression:"PID = :pid",ExpressionAttributeValues:{":pid":{S:e}}});_.M.d2m(n,e,parseInt(performance.now()-t))})),a},i2c:(e,t,n,c,r="vw-visualcheck",d,l)=>{const a=_.Y.setIcon(r,"s-icon","mit SID= leer wird ein neuer Datensatz angelegt, sonst die Felder geupdated");return a.addEventListener("click",(()=>{_.M.i2c({k:d,o:l})})),a},del:(e,t,n,c,r="vw-delete",d,l)=>{const a=_.Y.setIcon(r,"s-icon","Datensatz löschen");return a.addEventListener("click",(()=>{_.C.del({k:d,o:l},c)})),a},upd:(e,t,n,c,r="vw-user",d,l)=>{const a=_.Y.setIcon(r);return a.addEventListener("click",(()=>{_.C.upd({k:d,o:l,v:e,t:c,c:t})})),a},up:(e,t,n,c,r="vw-user",d,l,a=1)=>{const s=_.Y.setIcon(r);return s.addEventListener("click",(()=>{_.C.upd({k:d,o:l,v:(parseInt(e)+a).toString(),t:c,c:t})})),s},iud:(e,t,n,c,r="vw-user",d,l)=>{const a=document.createElement("span");return a.appendChild(_.Y.i2m(e,t,n,c,"vw-user-comment",d,l)),a.appendChild(_.Y.i2c(e,t,n,c,"vw-visualcheck",d,l)),a.appendChild(_.Y.del(e,t,n,c,"vw-delete",d,l)),a.appendChild(_.Y.r2d(e,t,n,c,"vw-plus",d,l)),a},ufc:(e,t,n,c)=>{const r=document.createElement("span");return r.appendChild(_.Y.i2d(e,t,n,c)),r.appendChild(_.Y.uf(e,t,n,c)),r},vpm:(e,t,n,c,r="vw-user",d,l)=>{const a=document.createElement("span");return a.appendChild(_.Y.up(e,t,n,c,"vw-arrow-back",d,l,-1)),a.appendChild(_.Y.uf(e,t,n,c)),a.appendChild(_.Y.up(e,t,n,c,"vw-arrow-forward",d,l,1)),a},srT:e=>{const t=_.Y.setIcon("vw-reload");return t.addEventListener("click",(()=>{_.C.scnTblRfr(e)})),t},gF:e=>{const t=_.Y.setIcon("vw-filter");return t.addEventListener("click",(()=>{_.T.setGF("GT",e)})),t},uf:(e,t,n,c)=>{const r=document.createElement("span");return r.setAttribute("class","u-filter"),r.addEventListener("click",(()=>{_.T.sF(c,{f:"eF",k:t,v:e},"L"+t)})),r.appendChild(document.createTextNode(` ${e} `)),r},ne:e=>{const t=document.createElement("span");return t.setAttribute("title",`Zahl\n${e}`),t.appendChild(document.createTextNode(e?_.U.n2ne(e,3):"")),t},df:(e,t,n,c,r,d,l)=>{const a=document.createElement("span"),s=parseInt(10*(e-l?.min||0)/(l?.max||1-l?.min||0));return a.setAttribute("class",`u-filter bszn${s||1}`),a.setAttribute("title",`SUM\n${e||0}`),a.addEventListener("click",(()=>{_.T.s2F(c,{f:"eF",k:r.split("|")[1],v:t},"L"+r.split("|")[1],{f:"eF",k:r.split("|")[0],v:d.split("|")[0]},"L"+r.split("|")[0])})),a.appendChild(document.createTextNode(e?_.U.n2ne(e):"")),a},lxf:(e,t,n,c,r=8)=>{const d=document.createElement("span"),l=document.createElement("span"),a=document.createElement("span"),s=e.slice(0,r),o=e.slice(r);return a.setAttribute("class","u-filter"),a.addEventListener("click",(()=>{_.T.sF(c,{f:"swF",k:t,v:s},"L"+t)})),a.appendChild(document.createTextNode(s)),l.appendChild(document.createTextNode(o)),d.appendChild(a),d.appendChild(l),d},rxf:(e,t,n,c,r=8)=>{const d=document.createElement("span"),l=document.createElement("span"),a=document.createElement("span"),s=e.slice(0,-r),o=e.slice(-r);return l.setAttribute("class","u-filter"),l.addEventListener("click",(()=>{_.T.sF(c,{f:"ewF",k:t,v:o},"L"+t)})),l.appendChild(document.createTextNode(o)),a.appendChild(document.createTextNode(s)),d.appendChild(a),d.appendChild(l),d},svgBarCode:e=>{const t=document.createElement("span");return(e=>{const t=["bwbWBwBwb","BwbWbwbwB","bwBWbwbwB","BwBWbwbwb","bwbWBwbwB","BwbWBwbwb","bwBWBwbwb","bwbWbwBwB","BwbWbwBwb","bwBWbwBwb","BwbwbWbwB","bwBwbWbwB","BwBwbWbwb","bwbwBWbwB","BwbwBWbwb","bwBwBWbwb","bwbwbWBwB","BwbwbWBwb","bWbwBwBwb","bWbwbwBwB"];return(e||"11223344").split("").map((e=>t["0123456789ABCDEFGH*-".indexOf(e)]+"t")).join("")})("*"+e+"*").split("").reduce(((e,n)=>(e.appendChild((e=>{const t=document.createElement("span");return t.setAttribute("class",e),t})("bcode-"+n)),t)),t),t}},L:{version:()=>"ìnfo T 0.1 layout",D:e=>document.createTextNode(`${new Date(parseInt(e)).toISOString().slice(0,16)}`),BC:e=>_.Y.svgBarCode(e),WF:e=>_.Y.workFlow(e),HF:e=>_.Y.heightFlow(e),HF2:e=>_.Y.heightFlow2(e),HF3:e=>_.Y.heightFlow3(e),BF:e=>_.Y.bitFlow(e),LF:e=>_.Y.longFlow(e),IC:e=>_.Y.setIcon("vw-search"),IC1:e=>_.Y.setIcon("vw-user-comment"),m:e=>_.Y.barmeterspan(e),xb:e=>document.createTextNode(`xb ${e}`),yb:e=>document.createTextNode(`yb ${e}`),ab:e=>document.createTextNode(`zb ${e}`),bb:e=>document.createTextNode(`bb ${e}`),cb:e=>document.createTextNode(`cb ${e}`),nn:e=>document.createTextNode(`${e||""}`),m5:e=>document.createTextNode(""+e%5),DRL:(e,t,n)=>document.createTextNode(`${_.DATA.L_TPMAUFG?.[n]?.[t]||n}`),i2m:(e,t,n,c,r,d)=>_.Y.i2m(e,t,n,c,"vw-user-comment",r,d),i2c:(e,t,n,c,r,d)=>_.Y.i2c(e,t,n,c,"vw-visualcheck",r,d),uf:(e,t,n,c)=>_.Y.uf(e,t,n,c),ufc:(e,t,n,c)=>_.Y.ufc(e,t,n,c),df:(e,t,n,c,r,d,l)=>_.Y.df(e,t,n,c,r,d,l),gF:(e,t,n,c,r,d,l)=>_.Y.gF(e,t,n,c,r,d,l),dl:(e,t,n,c)=>document.createTextNode(`${_.DATA[_.DATA["cfg_"+c].cfg.dlookup]?.[e]||e}`),djl0:(e,t,n,c)=>document.createTextNode(`${_.DATA[_.DATA["cfg_"+c].cfg.djlookup[0]]?.[e][_.DATA["cfg_"+c].cfg.djlookup[1][0]]||"NV"}`),djl1:(e,t,n,c)=>document.createTextNode(`${_.DATA[_.DATA["cfg_"+c].cfg.djlookup[0]]?.[e][_.DATA["cfg_"+c].cfg.djlookup[1][1]]||"NV"}`),djl2:(e,t,n,c)=>document.createTextNode(`${_.DATA[_.DATA["cfg_"+c].cfg.djlookup[0]]?.[e][_.DATA["cfg_"+c].cfg.djlookup[1][2]]||"NV"}`),djl3:(e,t,n,c)=>document.createTextNode(`${_.DATA[_.DATA["cfg_"+c].cfg.djlookup[0]]?.[e][_.DATA["cfg_"+c].cfg.djlookup[1][3]]||"NV"}`),djl4:(e,t,n,c)=>document.createTextNode(`${_.DATA[_.DATA["cfg_"+c].cfg.djlookup[0]]?.[e][_.DATA["cfg_"+c].cfg.djlookup[1][4]]||"NV"}`),djl5:(e,t,n,c)=>document.createTextNode(`${_.DATA[_.DATA["cfg_"+c].cfg.djlookup[0]]?.[e][_.DATA["cfg_"+c].cfg.djlookup[1][5]]||"NV"}`),ne:e=>_.Y.ne(e),sf:(e,t,n,c)=>document.createTextNode(`${e}`),l8f:(e,t,n,c)=>_.Y.lxf(e,t,n,c,8),l5f:(e,t,n,c)=>_.Y.lxf(e,t,n,c,5),r3f:(e,t,n,c)=>_.Y.rxf(e,t,n,c,3),r5:e=>document.createTextNode(`${e.split(-5)}`),X:(e,t,n,c,r,d)=>_.Y.del(e,t,n,c,"vw-delete",r,d),U:(e,t,n,c,r,d)=>_.Y.upd(e,t,n,c,"vw-pencil",r,d),up1:(e,t,n,c,r,d)=>_.Y.up(e,t,n,c,"vw-arrow-forward",r,d,1),um1:(e,t,n,c,r,d)=>_.Y.up(e,t,n,c,"vw-arrow-back",r,d,-1),iud:(e,t,n,c,r,d)=>_.Y.iud(e,t,n,c,"vw-delete",r,d),vpm:(e,t,n,c,r,d)=>_.Y.vpm(e,t,n,c,"vw-delete",r,d)},T:{version:()=>"ìnfo T 0.3 table 2024-07-12 [getPage getTbl refresh] private ACHTUNG sort für edgebrowser -JETZT PASST ES ",dos:(e,t=!1)=>(n,c)=>t?parseFloat(c[e]||0)-parseFloat(n[e]||0):c[e].localeCompare(n[e]),uos:(e,t=!1)=>(n,c)=>t?parseFloat(n[e]||0)-parseFloat(c[e]||0):n[e].localeCompare(c[e]),getRowJ:(e,t,n={},c)=>{const r=document.createElement("tr");return _.X.OK(n).reduce(((r,d)=>{const l=document.createElement("td"),a=_.L[n[d]?.style||"nn"](t[n[d].col],n[d]?.col,t.refid||"NOID",e,_.X.OK(t).join("|"),_.X.OV(t).join("|"),c);return l.dataset.col=n[d]?.col,l.dataset.id=t._id||"NOID",l.setAttribute("style",`text-align:${n[d]?.align||"center"}`),l.setAttribute("class",n[d]?.media||""),l.appendChild(a),r.appendChild(l),r}),r),r},getCC:(e,t,n,c,r="c")=>{const d=document.createElement("span");return d.addEventListener("click",(()=>{_.M.cC("Spalte","Breite bzw Funktion ändern",e,"show",c)})),d.appendChild(document.createTextNode(r)),d},getXHeader:(e,t,n={})=>{const c=document.createElement("tr");return _.X.OK(n).reduce(((t,c)=>{const r=document.createElement("th");return r.setAttribute("class","x"),"uf"===n[c]?.style&&_.GX[e].describe?r.appendChild(_.D.describe(e,n[c]?.col)):"sf"===n[c]?.style&&_.GX[e].stats?r.appendChild(_.D.stats(e,n[c]?.col)):r.appendChild(document.createTextNode("")),t.appendChild(r),t}),c),c},getHeader:(e,t,n={})=>{const c=document.createElement("tr");return _.X.OK(n).reduce(((c,r)=>{const d=document.createElement("th"),l=document.createElement("span"),a=document.createElement("span"),s=document.createTextNode(n[r]?.head.slice(0,10)||"NV");return d.setAttribute("class","c "+n[r]?.media||""),d.setAttribute("title",n[r]?.colbez||"N"),n[r]?.sort?(l.setAttribute("class","sorter"),a.setAttribute("class","sorter"),l.appendChild(_.Y.setIcon("vw-sort-up")),a.appendChild(_.Y.setIcon("vw-sort-down")),l.addEventListener("click",(()=>{_.T.sC(e,n[r]?.col,"uos",n[r]?.nsort||!1)})),a.addEventListener("click",(()=>{_.T.sC(e,n[r]?.col,"dos",n[r]?.nsort||!1)})),d.appendChild(l),d.appendChild(_.T.getCC(e,t,n,r,n[r]?.head.slice(0,10)||"NV")),d.appendChild(a)):d.appendChild(s),c.appendChild(d),c}),c),c},getFilterLinks:e=>{const t=document.createElement("span");return t.setAttribute("class","small"),_.X.OE(_.DATA["cfg_"+e].cfg.jfilter).reduce(((t,n)=>{const c=document.createElement("span");return c.setAttribute("class","u-filter"),c.addEventListener("click",(()=>{_.T.dF(e,n[0],"jfilter")})),c.appendChild(document.createTextNode(("string"==typeof n[1].v?n[1].v.slice(-4):n[1].v.g.slice(-4))+" ")),t.appendChild(c),t}),t),_.X.OE(_.DATA["cfg_"+e].cfg.sfilter).reduce(((t,n)=>{const c=document.createElement("span");return c.setAttribute("class","u-filter"),c.addEventListener("click",(()=>{_.T.dF(e,n[0],"sfilter")})),c.appendChild(document.createTextNode(n[1].slice(0,5)+" ")),t.appendChild(c),t}),t),t},getPager:e=>{const t=document.createElement("span"),n=_.Y.setIcon("vw-vertical"),c=_.Y.setIcon("vw-vertical"),r=_.Y.setIcon("vw-chevronright"),d=_.Y.setIcon("vw-chevronleft"),l=document.createElement("progress"),a=document.createElement("span");return l.setAttribute("max",_.DATA["cfg_"+e].cfg.maxPage),l.setAttribute("value",_.DATA["cfg_"+e].cfg.page),n.addEventListener("click",(()=>{_.T.gP(e,0,!1),_.DATA["cfg_"+e].cfg.startstop=!1})),r.addEventListener("click",(()=>{_.T.gP(e,1,!0),_.DATA["cfg_"+e].cfg.startstop=!1})),d.addEventListener("click",(()=>{_.T.gP(e,-1,!0),_.DATA["cfg_"+e].cfg.startstop=!1})),c.addEventListener("click",(()=>{_.T.gP(e,_.DATA["cfg_"+e].cfg.maxPage,!1),_.DATA["cfg_"+e].cfg.startstop=!1})),l.addEventListener("click",(()=>{_.DATA["cfg_"+e].cfg.startstop=!_.DATA["cfg_"+e].cfg.startstop,_.DATA["cfg_"+e].cfg.startstop&&_.T.ss(e)})),a.setAttribute("class","small"),a.appendChild(document.createTextNode(` [ ${_.DATA["cfg_"+e].cfg.page}/${_.DATA["cfg_"+e].cfg.maxPage} - ${_.DATA["fs_"+e].length} ]`)),t.appendChild(n),t.appendChild(d),t.appendChild(l),t.appendChild(r),t.appendChild(c),t.appendChild(a),t},getTbl:(e,t,n,c=null)=>{const r=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),s=document.createElement("table"),o=document.createElement("thead"),i=document.createElement("tbody"),u=document.createElement("span"),p=document.createElement("span"),m=document.createElement("input"),f=_.T.getPager(e),A=_.T.getFilterLinks(e);return d.setAttribute("class","rowflex"),u.setAttribute("class","small"),m.setAttribute("type","text"),m.setAttribute("placeholder","Search"),m.addEventListener("change",(t=>{_.T.setsfilter(e,t.target.value,"S"+t.target.value.slice(0,3))})),s.setAttribute("class","table-bordered"),o.appendChild(_.T.getXHeader(e,t[0],n)),o.appendChild(_.T.getHeader(e,t[0],n)),t.reduce(((t,r)=>(t.appendChild(_.T.getRowJ(e,r,n,c)),t)),i),s.appendChild(o),s.appendChild(i),u.appendChild(document.createTextNode(" "+_.DATA["cfg_"+e].cfg.sort.slice(0,2).join("|")+" ")),p.addEventListener("click",(async t=>{await _.D.gC(e)})),p.appendChild(_.Y.setIcon("vw-download","icon iconhover")),a.appendChild(p),a.appendChild(_.Y.setIcon("vw-search","icon")),a.appendChild(m),l.appendChild(f),l.appendChild(u),l.appendChild(A),d.appendChild(l),d.appendChild(a),r.appendChild(d),r.appendChild(s),r},rf:e=>{document.querySelector("#"+e).removeChild(document.querySelector("#"+e).childNodes[0]);const t=_.DATA["cfg_"+e].cfg;_.DATA["fs_"+e].length?document.querySelector("#"+e).appendChild(_.T.getTbl(e,_.DATA["fs_"+e].sort(_.T[_.DATA["cfg_"+e].cfg.sort[0]](_.DATA["cfg_"+e].cfg.sort[1],_.DATA["cfg_"+e].cfg.sort[2])).slice(t.page*t.pageSize,(t.page+1)*t.pageSize).map(_.X.as(_.DATA["cfg_"+e].cfg.structure)),_.DATA["cfg_"+e].views[_.DATA["cfg_"+e].cfg.view])):document.querySelector("#"+e).appendChild(document.createTextNode("no data - try to reset filter"))},gP:(e,t=1,n=!0)=>{const c=_.DATA["cfg_"+e].cfg;c.page=n?c.page+t:t,_.DATA["cfg_"+e].cfg.page=c.page,_.T.rf(e)},getmaxPage:e=>{_.DATA["cfg_"+e].cfg.startstop=!1,_.DATA["cfg_"+e].cfg.maxPage=parseInt(_.DATA["fs_"+e].length/_.DATA["cfg_"+e].cfg.pageSize),_.T.gP(e,0,!1)},setGF:(e,t)=>{_.GV[e]=t,_.GT.forEach((n=>{const c=_.DATA["cfg_"+n].cfg.GF?.[e];c&&(c.v=t,_.DATA["cfg_"+n].cfg.jfilter[e]=c,_.T.aF(n))}))},delGF:e=>{e?delete _.GV[e]:_.GV={},_.GT.forEach((t=>{e?delete _.DATA["cfg_"+t].cfg.jfilter[e]:_.DATA["cfg_"+t].cfg.jfilter={},_.DATA["cfg_"+t].cfg.sfilter={},_.T.aF(t)}))},sV:(e,t="show")=>_.DATA["cfg_"+e].cfg.view=t,s2F:(e,t,n="f1",c,r="f2")=>{_.DATA["cfg_"+e].cfg.jfilter[n]=t,_.DATA["cfg_"+e].cfg.jfilter[r]=c,_.T.aF(e)},sF:(e,t,n="f1")=>{_.DATA["cfg_"+e].cfg.jfilter[n]=t,_.T.aF(e)},setsfilter:(e,t,n)=>{_.DATA["cfg_"+e].cfg.sfilter[n]=t,_.T.aF(e)},dF:(e,t,n="jfilter")=>{delete _.DATA["cfg_"+e].cfg[n][t],_.T.aF(e)},aF:e=>{_.DATA["fs_"+e]=_.X.OV(_.DATA["cfg_"+e].cfg.sfilter).reduce(((t,n)=>_.X.search(t,{f:[],v:n,s:_.DATA["cfg_"+e].cfg.structure,c:_.DATA["cfg_"+e].cfg.searchfields})),_.X.OV(_.DATA["cfg_"+e].cfg.jfilter).reduce(_.X.fc,_.DATA[e])),_.DATA["cfg_"+e].cfg.summary&&(_.GX[e].describe=_.X.describe(_.DATA["fs_"+e],{s:_.DATA["cfg_"+e].cfg.summary})),_.DATA["cfg_"+e].cfg.stats&&(_.GX[e].stats=_.X.bxPlt(_.DATA["fs_"+e],{s:_.DATA["cfg_"+e].cfg.stats})),_.DATA["cfg_"+e].cfg.grpsum&&(_.GX[e].grpsum=_.X.grpsum(_.DATA["fs_"+e],_.DATA["cfg_"+e].cfg.grpsum)),_.DATA["cfg_"+e].cfg.bxplt&&(_.GX[e].bxplt=_.X.cbxPlt(_.DATA["fs_"+e],_.DATA["cfg_"+e].cfg.bxplt)),_.T.getmaxPage(e)},sC:(e,t="_id",n="dos",c=!1)=>{_.DATA["cfg_"+e].cfg.sort=[n,t,c],_.DATA["cfg_"+e].cfg.startstop=!1,_.T.gP(e,0,!1)},ss:e=>{_.DATA["cfg_"+e].cfg.startstop&&_.DATA["cfg_"+e].cfg.page<_.DATA["cfg_"+e].cfg.maxPage&&(_.T.gP(e),setTimeout((()=>_.T.ss(e)),300))}},D:{version:()=>"info D 0.2 data",gC:async(e,t="\t")=>{document.querySelector(":root").style.setProperty("--baseHue","310"),await navigator.clipboard.writeText(_.DATA["fs_"+e].reduce(((e,n)=>e+_.X.OV(n).reduce(((e,n)=>e+n+t),"")+"\n"),"")),document.querySelector(":root").style.setProperty("--baseHue","210")},gD:async(e,t="")=>{const n=await fetch(t+e);return await n.json()},describe:(e="slei",t="schicht")=>{const n=_.X.OE(_.GX[e].describe[t]).map(_.X.KV).sort(((e,t)=>t.v-e.v)).slice(0,5),c=Math.max.apply(null,n.map((e=>e.v))),r=document.createElement("div");return r.setAttribute("class","describe"),n.reduce(((n,r)=>{const d=document.createElement("span");return d.addEventListener("click",(()=>_.T.sF(e,{f:"eF",k:t,v:r.k},t))),d.setAttribute("title",r.k+" "+r.v),d.setAttribute("class",`w${parseInt(9*r.v/c)}`),n.appendChild(d),n}),r),r},stats:(e="slei",t)=>{const n=document.createElement("div");return n.setAttribute("class","stats"),["l","min","mean","max","s","v"].reduce(((n,c)=>{const r=document.createElement("div");return r.setAttribute("class","small"),r.appendChild(document.createTextNode(c+": "+_.GX[e].stats[t][c].toFixed(0))),n.appendChild(r),n}),n),n},buzz:()=>"",sT:(e,t={})=>{const n=document.createElement("div"),c=document.createElement("p"),r=document.createElement("header"),d=document.createElement("span"),l=document.createElement("span"),a=document.createElement("div"),s=document.createElement("div"),o=document.createTextNode("tbl platzhalter"),i=document.createTextNode(""),u=document.createTextNode(""),p=document.createElement("span"),m=document.createTextNode(t?.header||"Title"),f=document.createElement("span"),A=document.createTextNode(" - internal - "+t?.subheader||"subTitle");a.setAttribute("class","rowflex"),r.setAttribute("table",""),l.setAttribute("class","small"),n.setAttribute("style","display:none"),n.setAttribute("id",`md${e}`),c.setAttribute("id",`${e}`),f.appendChild(_.Y.srT(t?.tableName||"projekte")),p.appendChild(i),d.appendChild(f),d.appendChild(m),l.appendChild(A),a.appendChild(d),a.appendChild(p),a.appendChild(u),r.appendChild(a),r.appendChild(l),s.appendChild(o),c.appendChild(s),n.appendChild(r),n.appendChild(c),document.querySelector("main").appendChild(n)},d2a:()=>{const e=document.querySelector("#aside"),t=document.createElement("div");e.removeChild(e.children[0]),t.appendChild(document.createTextNode("...")),e.appendChild(t)},k2a:(e,t)=>{const n=document.querySelector("#aside"),c=document.createElement("div"),r=structuredClone(_.DATA["cfg_"+e].cfg.k2a)||{},d=_.DATA["cfg_"+e].cfg.k2aid,l=_.DATA["cfg_"+e].cfg.k2adata,a=_.DATA["cfg_"+e].cfg.k2akst;r.f.unshift({f:"rF",k:a,v:t});const s=_.X.combine(_.DATA[e],r).sort(_.T.uos(d));n.removeChild(n.children[0]),s.reduce(((e,t)=>{const n=document.createElement("div"),c=document.createElement("span");return c.setAttribute("class","GA oneofntp widthx"),c.setAttribute("data",`GA-${t[l]}`),c.addEventListener("click",(()=>{_.U.on("GA",t[l],"oneofntp"),_.T.setGF("GA",t[d])})),c.appendChild(document.createTextNode(t[l].slice(0,20))),n.appendChild(c),e.appendChild(n),e}),c),n.appendChild(c),s[0]&&(_.U.on("GA",s[0][l],"oneofntp"),_.T.setGF("GA",s[0][d]))},grpsum:e=>{const t=document.querySelector("#grpsum"),n=_.GX[e].grpsum.map((e=>(e.k.split("_").reduce(((e,t,n)=>(e["D"+n]=t,e)),e),e.v=parseFloat(Number(e.v).toFixed(1)),e))),c=[...new Set(n.map((e=>e.D1)))],r=[...new Set(n.map((e=>e.D2)))],d=_.X.MM(_.GX[e].grpsum.map((e=>e.v))),l=_.DATA["cfg_"+e].cfg.grpsum.s[0],a=_.DATA["cfg_"+e].cfg.grpsum.s[1],s=[l,a].concat(r).reduce(((e,t,n)=>{const c={};return c.col=t,c.head=t,c.style="df",e["p"+n]=c,e}),{}),o=c.map((e=>n.filter((t=>t.D1===e)).reduce(((e,t)=>(e[t.D2]=t.v,e)),{[l]:e,[a]:""})));s.p0.style="nn",s.p1.style="nn",t.removeChild(t.children[0]),t.appendChild(_.T.getTbl(e,o,s,d))},bxplt:e=>{const t=document.querySelector("#bxplt"),n=_.GX[e].bxplt.map((e=>(e.k.split("_").reduce(((e,t,n)=>(e["D"+n]=t,e)),e),e.vv=parseFloat(Number(e.v.v).toFixed(1)),e))),c=[...new Set(n.map((e=>e.D1)))],r=[...new Set(n.map((e=>e.D2)))],d=_.X.MM(_.GX[e].bxplt.map((e=>e.vv))),l=_.DATA["cfg_"+e].cfg.bxplt.s[0],a=_.DATA["cfg_"+e].cfg.bxplt.s[1],s=[l,a].concat(r).reduce(((e,t,n)=>{const c={};return c.col=t,c.head=t,c.style="df",e["p"+n]=c,e}),{}),o=c.map((e=>n.filter((t=>t.D1===e)).reduce(((e,t)=>(e[t.D2]=t.vv,e)),{[l]:e,[a]:""})));s.p0.style="nn",s.p1.style="nn",t.removeChild(t.children[0]),t.appendChild(_.T.getTbl(e,o,s,d))}},C:{version:()=>"version 0.2 C Anbindung Cloud 2024-07-06..",APIID:"XX",REGION:"XX",TASK:"XX",TABLEI:"XX",TABLEC:"XX",m2eda:async(e,t=_.C.TASK,n=_.C.TABLEC)=>{const c=await fetch(`https://${_.C.APIID}.execute-api.${_.C.REGION}.amazonaws.com/${t}/${n}`,{method:"POST",body:JSON.stringify(e)});return await c.json()},del:async(e,t)=>{const n=_.U.kv2j(e.k.split("|"),e.o.split("|")),{PID:c,SID:r}=_.U.j2Dj(n),d={batch:[{Key:{PID:c,SID:r},TableName:_.DATA["cfg_"+t].cfg.dbTableName}]};await _.C.m2eda(d,"task4","CERA-DEL"),_.DATA[t]=_.DATA[t].filter((e=>!(e.PID===n.PID&&e.SID===n.SID))),_.DATA["fs_"+t]=_.DATA[t],_.U.on("STRUS"),_.T.delGF()},upd:async e=>{const t=_.U.kv2j(e.k.split("|"),e.o.split("|")),{PID:n,SID:c}=_.U.j2Dj(t),r={batch:[{Key:{PID:n,SID:c},update:`Set ${e.c}=:val`,valueString:{":val":{S:`${e.v}`}},TableName:_.C.TABLEC}]};await _.C.m2eda(r,"task5","CERA-UPD"),_.DATA[e.t].filter((e=>e.PID===t.PID&&e.SID===t.SID))[0][e.c]=e.v,_.T.rf(e.t)},scanDB:async(e,t)=>(await _.C.m2eda(t,"dynamo",e)).map(_.U.Dj2j),scnTblRfr:async e=>{const t=await _.C.scanDB(_.DATA["cfg_"+e].cfg.dbTableName,{KeyConditionExpression:`${_.DATA["cfg_"+e].cfg.ReadKeys[0]} = :pid`,ExpressionAttributeValues:{":pid":{S:_.DATA["cfg_"+e].cfg.ReadExpressions[0]}}});_.DATA[e]=t,_.U.on("STRUS"),_.T.delGF()}}};export{_};